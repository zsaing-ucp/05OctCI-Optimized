name: cd-pipeline
on:
    workflow_run: 
        workflows: 
            - "ci-pipeline"
        types: 
            - completed
jobs:
    cd-job:
        runs-on: ubuntu-latest
        steps:
            - name: Help Needed
              run: echo "Allah Please Help Me"
            - name: check Previous Workflow Run Status
              run: echo "${{github.event.workflow_run.conclusion=='success'}}"           
            - name: Checkout Repository
              uses: actions/checkout@v4
              # now set up parcel to build the website
            - name: Setup Parcel Tool to Build the website
              run: npm install --save-dev parcel
            - name: check the contents of Package.json
              run: cat package.json
            - name: List Contents of WD
              run: ls -a
            - name: Build the Website
              run: npx parcel build "${{github.workspace}}/index.html"
            - name: Check The Contents of the WD after the Build Operation
              run: ls -a